<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <script src="../../lib/vue.js"></script>
    <style>
        .ball{
            width: 10px;
            height: 10px;
            background-color: red;
            border-radius: 50%;
        }
    </style>
    <title>Dropped Ball with Component</title>
</head>
<body>
    <div id="app">
        <my-comp></my-comp>
    </div>
    
    <template id="myTemp">
        <div>
            <input type="button" value="加入购物车" @click="flag=!flag">
            <transition @before-enter="beforeEnter"
                        @enter="enter"
                        @after-enter="afterEnter">
                <div class="ball" v-show="flag"></div>
            </transition>
        </div>
    </template>
    <script>
        Vue.component("myComp", {
            template: "#myTemp",
            data: function(){
                return {
                    flag: false,
                }
            },
            methods: {
                beforeEnter(el){
                    el.style.transform = "translate(0, 0)";
                },
                enter(el, done){
                    el.offsetHeight;
                    el.style.transform = "translate(150px, 450px)";
                    el.style.transition = "all 1s ease";
                    done();
                },
                afterEnter(){
                    console.log(this.flag);
                    this.flag = !this.flag;
                    console.log(this.flag);
                }
            }
        })

        var mv = new Vue({
            el: "#app",
        })
    </script>
</body>
</html>