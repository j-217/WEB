<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <script src="../../lib/vue.js"></script>
    <title>Comments</title>
</head>
<body>
    <div id="app">
        <form>
            评论人: <input type="text" ref="myname">
            内容: <input type="text" ref="mycontent">
            <input type="button" value="提交" @click="add">
        </form>
        <comp :parent-list="list"></comp>
    </div>
    
<!--     测试innerHTML和innerTEXT
    <div id="d1"><p>ppp</p>123123123</div> -->
    
    <template id="comp" >
        <ul>
            <li v-for="item in parentList" :key="item.id">
                内容：{{ item.content }} ----- 评论人：{{ item.name }}
            </li>
        </ul>
    </template>
    <script>
        var comp = {
            template: "#comp",
            props: [
                'parentList'
            ],
        }


        var mv = new Vue({
            el: "#app",
            data: {
                // dummy_data
                list: [
                    {id: 1, name: "张三", content: "张三说哈哈哈"},
                    {id: 2, name: "李四", content: "李四说嘿嘿嘿"},
                    {id: 3, name: "王五", content: "王五说哇哇哇"},
                ],
            },
            components: {
                comp,
            },
            methods: {
                add(){
                    var newComment = {};
                    newComment.id = this.list.length + 1;
                    newComment.name = this.$refs.myname.value;
                    newComment.content = this.$refs.mycontent.value;
                    this.list.push(newComment);
                    console.log("done");
                }
            }
        })
    </script>
</body>
</html>